{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { HttpParams } from '@angular/common/http';\nlet StoryListComponent = class StoryListComponent {\n  constructor(http) {\n    this.http = http;\n    this.stories = [];\n    this.searchTerm = '';\n    this.pageNumber = 1;\n    this.pageSize = 20;\n    this.totalStories = 0;\n  }\n  ngOnInit() {\n    this.loadStories();\n  }\n  loadStories() {\n    let params = new HttpParams().set('pageNumber', this.pageNumber.toString()).set('pageSize', this.pageSize.toString());\n    if (this.searchTerm.trim()) {\n      params = params.set('search', this.searchTerm.trim());\n    }\n    this.http.get('http://localhost:5000/api/stories', {\n      params\n    }).subscribe({\n      next: data => {\n        console.log('Stories data received:', data);\n        // Use stories as received from backend (already filtered)\n        this.stories = data.stories;\n        // Use totalCount from backend for pagination\n        this.totalStories = data.totalCount;\n      },\n      error: err => {\n        console.error('Error loading stories:', err);\n      }\n    });\n  }\n  onSearch() {\n    this.pageNumber = 1;\n    this.loadStories();\n  }\n  onPageChange(newPage) {\n    this.pageNumber = newPage;\n    this.loadStories();\n  }\n  get totalPages() {\n    return Math.ceil(this.totalStories / this.pageSize);\n  }\n  pages() {\n    return Array(this.totalPages).fill(0).map((x, i) => i + 1);\n  }\n};\nStoryListComponent = __decorate([Component({\n  selector: 'app-story-list',\n  templateUrl: './story-list.component.html',\n  styleUrls: ['./story-list.component.css']\n})], StoryListComponent);\nexport { StoryListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}